{"createdAt":"2025-05-20T17:53:48.884Z","updatedAt":"2025-05-30T22:01:57.000Z","id":"W5gmxuQYjXX41rkz","name":"Backup Github JPG","active":true,"isArchived":false,"nodes":[{"parameters":{"resource":"file","operation":"get","owner":"={{$node[\"Globals\"].json[\"repo\"][\"owner\"]}}","repository":"={{$node[\"Globals\"].json[\"repo\"][\"name\"]}}","filePath":"={{$node[\"Globals\"].json[\"repo\"][\"path\"]}}{{$json[\"name\"]}}.json","asBinaryProperty":false,"additionalParameters":{}},"id":"686ab732-4759-4fdc-ba25-76cbe2daa905","name":"GitHub","type":"n8n-nodes-base.github","position":[920,80],"typeVersion":1,"alwaysOutputData":true,"webhookId":"88a99df5-8c24-40c0-9a89-c732918cfa76","credentials":{"githubApi":{"id":"OGbfruqDTNNV4k0E","name":"GitHub JPG"}},"continueOnFail":true},{"parameters":{"values":{"string":[{"name":"repo.owner","value":"adiazsifx"},{"name":"repo.name","value":"n8n_Jaime"},{"name":"repo.path","value":"workflows"}]},"options":{}},"id":"30d1ba30-42f0-4408-8bd9-9e08cae5839e","name":"Globals","type":"n8n-nodes-base.set","position":[220,0],"typeVersion":1},{"parameters":{"filters":{},"requestOptions":{}},"id":"0f469e5c-4052-4b19-8671-abaa255c6db0","name":"n8n","type":"n8n-nodes-base.n8n","position":[460,0],"typeVersion":1,"credentials":{"n8nApi":{"id":"CzBxMGOtzFQ2tJh0","name":"n8n api_key JPG"}}},{"parameters":{"options":{}},"id":"b38c11be-2ef3-40bd-a332-06b0def11c3c","name":"Loop Over Items","type":"n8n-nodes-base.splitInBatches","position":[680,0],"executeOnce":false,"typeVersion":3},{"parameters":{"conditions":{"options":{"version":2,"leftValue":"","caseSensitive":true,"typeValidation":"strict"},"combinator":"and","conditions":[{"id":"16a9182d-059d-4774-ba95-654fb4293fdb","operator":{"type":"string","operation":"notExists","singleValue":true},"leftValue":"={{ $json.error }}","rightValue":""}]},"options":{}},"id":"3d3aa27b-781c-4b7e-b4ad-35a1e42d9ec9","name":"If","type":"n8n-nodes-base.if","position":[1120,80],"typeVersion":2.2},{"parameters":{"conditions":{"options":{"version":2,"leftValue":"","caseSensitive":true,"typeValidation":"strict"},"combinator":"and","conditions":[{"id":"e0c66624-429a-4f1f-bf7b-1cc1b32bad7b","operator":{"type":"string","operation":"notEquals"},"leftValue":"={{ $json.content }}","rightValue":"={{ $('Loop Over Items').item.json.toJsonString() }}"}]},"options":{}},"id":"9f3cef88-63f8-41fb-85cd-c2ffad29b284","name":"If1","type":"n8n-nodes-base.if","position":[2000,360],"typeVersion":2.2},{"parameters":{"jsCode":"let items = $input.all()\n\nfor (item of items) {\n    item.json.content = Buffer.from(item.json.content, 'base64').toString('utf8')\n}\n\nreturn items;\n"},"id":"0891d332-afa7-413d-9fc5-eab0ce41706a","name":"Code","type":"n8n-nodes-base.code","position":[1680,60],"typeVersion":2},{"parameters":{"resource":"file","owner":"={{$node[\"Globals\"].json[\"repo\"][\"owner\"]}}","repository":{"__rl":true,"value":"={{$node[\"Globals\"].json[\"repo\"][\"name\"]}}","mode":"name"},"filePath":"={{$node[\"Globals\"].json[\"repo\"][\"path\"]}}{{ $('Loop Over Items').item.json.name }}.json","fileContent":"={{ $('Loop Over Items').item.json.toJsonString()  }}","commitMessage":"=[N8N Backup] {{ $('Loop Over Items').item.json.name }}.json"},"id":"68e84fa2-d5c1-4828-9684-e84450fa7960","name":"Create new file and commit","type":"n8n-nodes-base.github","position":[1300,240],"typeVersion":1,"webhookId":"883c0e71-f2a3-4756-88e4-d38baab35655","credentials":{"githubApi":{"id":"OGbfruqDTNNV4k0E","name":"GitHub JPG"}}},{"parameters":{"resource":"file","operation":"edit","owner":"={{$node[\"Globals\"].json[\"repo\"][\"owner\"]}}","repository":"={{$node[\"Globals\"].json[\"repo\"][\"name\"]}}","filePath":"={{$node[\"Globals\"].json[\"repo\"][\"path\"]}}{{ $('Loop Over Items').item.json.name }}.json","fileContent":"={{ $('Loop Over Items').item.json.toJsonString()  }}","commitMessage":"=[N8N Backup] {{ $('Loop Over Items').item.json.name }}.json"},"id":"0c123f41-9655-4c0c-ae79-ca6106cff992","name":"Update file content and commit","type":"n8n-nodes-base.github","position":[2360,560],"typeVersion":1,"webhookId":"8a883e3e-f248-4a40-986f-6c41ed97baff","credentials":{"githubApi":{"id":"OGbfruqDTNNV4k0E","name":"GitHub JPG"}}},{"parameters":{"rule":{"interval":[{"field":"minutes"}]}},"id":"98344016-0218-430a-a4fb-a7ddf0177516","name":"Schedule Trigger","type":"n8n-nodes-base.scheduleTrigger","position":[0,0],"typeVersion":1.2}],"connections":{"If":{"main":[[{"node":"Code","type":"main","index":0}],[{"node":"Create new file and commit","type":"main","index":0}]]},"If1":{"main":[[{"node":"Update file content and commit","type":"main","index":0}],[{"node":"Loop Over Items","type":"main","index":0}]]},"n8n":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]},"Code":{"main":[[{"node":"If1","type":"main","index":0}]]},"GitHub":{"main":[[{"node":"If","type":"main","index":0}]]},"Globals":{"main":[[{"node":"n8n","type":"main","index":0}]]},"Loop Over Items":{"main":[[],[{"node":"GitHub","type":"main","index":0}]]},"Schedule Trigger":{"main":[[{"node":"Globals","type":"main","index":0}]]},"Create new file and commit":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]},"Update file content and commit":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]}},"settings":{"executionOrder":"v1","callerPolicy":"workflowsFromSameOwner","timeSavedPerExecution":5,"errorWorkflow":"Txht1wrdLAI370JY"},"staticData":{"node:Schedule Trigger":{"recurrenceRules":[]}},"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"a6c8e721-65e8-46d8-87cc-2bce894d9150","triggerCount":1,"tags":[]}