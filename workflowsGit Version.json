{"createdAt":"2025-06-16T15:32:37.291Z","updatedAt":"2025-06-24T01:56:38.000Z","id":"dah0n3fdJn0K6x1R","name":"Git Version","active":false,"isArchived":false,"nodes":[{"parameters":{"resource":"file","operation":"get","owner":"={{$node[\"Globals\"].json[\"repo\"][\"owner\"]}}","repository":"={{$node[\"Globals\"].json[\"repo\"][\"name\"]}}","filePath":"={{$node[\"Globals\"].json[\"repo\"][\"path\"]}}{{$json[\"name\"]}}.json","asBinaryProperty":false,"additionalParameters":{}},"id":"dedc1a3f-880c-492d-8a85-8fab9f94aea8","name":"GitHub","type":"n8n-nodes-base.github","position":[-620,-180],"typeVersion":1,"alwaysOutputData":true,"webhookId":"88a99df5-8c24-40c0-9a89-c732918cfa76","continueOnFail":true},{"parameters":{"values":{"string":[{"name":"repo.owner","value":"adiazsifx"},{"name":"repo.name","value":"n8n-backup"},{"name":"repo.path","value":"workflows/"}]},"options":{}},"id":"10b288fe-d368-420b-b994-2c9cd1f2d683","name":"Globals","type":"n8n-nodes-base.set","position":[-1320,-260],"typeVersion":1},{"parameters":{"filters":{},"requestOptions":{}},"id":"b550755b-19e2-4556-ae78-6829fcd40398","name":"n8n","type":"n8n-nodes-base.n8n","position":[-1080,-260],"typeVersion":1},{"parameters":{"options":{}},"id":"1198be5a-01e6-4310-ac21-cae51d3d465c","name":"Loop Over Items","type":"n8n-nodes-base.splitInBatches","position":[-860,-260],"executeOnce":false,"typeVersion":3},{"parameters":{"conditions":{"options":{"version":2,"leftValue":"","caseSensitive":true,"typeValidation":"strict"},"combinator":"and","conditions":[{"id":"16a9182d-059d-4774-ba95-654fb4293fdb","operator":{"type":"string","operation":"notExists","singleValue":true},"leftValue":"={{ $json.error }}","rightValue":""}]},"options":{}},"id":"069f9e44-f7db-49ab-96e5-d1f31ccb259b","name":"If","type":"n8n-nodes-base.if","position":[-420,-180],"typeVersion":2.2},{"parameters":{"conditions":{"options":{"version":2,"leftValue":"","caseSensitive":true,"typeValidation":"strict"},"combinator":"and","conditions":[{"id":"e0c66624-429a-4f1f-bf7b-1cc1b32bad7b","operator":{"type":"string","operation":"notEquals"},"leftValue":"={{ $json.content }}","rightValue":"={{ $('Loop Over Items').item.json.toJsonString() }}"}]},"options":{}},"id":"a9de713f-6bd6-480a-b9e8-b511501e10a4","name":"If1","type":"n8n-nodes-base.if","position":[460,100],"typeVersion":2.2},{"parameters":{"jsCode":"let items = $input.all()\n\nfor (item of items) {\n    item.json.content = Buffer.from(item.json.content, 'base64').toString('utf8')\n}\n\nreturn items;\n"},"id":"b3167e68-ec86-42d7-be97-5c63aca4a3b6","name":"Code","type":"n8n-nodes-base.code","position":[140,-200],"typeVersion":2},{"parameters":{"resource":"file","owner":"={{$node[\"Globals\"].json[\"repo\"][\"owner\"]}}","repository":{"__rl":true,"value":"={{$node[\"Globals\"].json[\"repo\"][\"name\"]}}","mode":"name"},"filePath":"={{$node[\"Globals\"].json[\"repo\"][\"path\"]}}{{ $('Loop Over Items').item.json.name }}.json","fileContent":"={{ $('Loop Over Items').item.json.toJsonString()  }}","commitMessage":"=[N8N Backup] {{ $('Loop Over Items').item.json.name }}.json"},"id":"a3163e3b-6b88-4e2e-843e-351a3f5a2aab","name":"Create new file and commit","type":"n8n-nodes-base.github","position":[-240,-20],"typeVersion":1,"webhookId":"883c0e71-f2a3-4756-88e4-d38baab35655"},{"parameters":{"resource":"file","operation":"edit","owner":"={{$node[\"Globals\"].json[\"repo\"][\"owner\"]}}","repository":"={{$node[\"Globals\"].json[\"repo\"][\"name\"]}}","filePath":"={{$node[\"Globals\"].json[\"repo\"][\"path\"]}}{{ $('Loop Over Items').item.json.name }}.json","fileContent":"={{ $('Loop Over Items').item.json.toJsonString()  }}","commitMessage":"=[N8N Backup] {{ $('Loop Over Items').item.json.name }}.json"},"id":"787e0a94-191c-4855-93d0-b80fc04949f1","name":"Update file content and commit","type":"n8n-nodes-base.github","position":[820,300],"typeVersion":1,"webhookId":"8a883e3e-f248-4a40-986f-6c41ed97baff"},{"parameters":{"rule":{"interval":[{"field":"minutes"}]}},"id":"c35edb07-f6d1-457c-bd29-8f4ddbab828c","name":"Schedule Trigger","type":"n8n-nodes-base.scheduleTrigger","position":[-1540,-260],"typeVersion":1.2}],"connections":{"If":{"main":[[{"node":"Code","type":"main","index":0}],[{"node":"Create new file and commit","type":"main","index":0}]]},"If1":{"main":[[{"node":"Update file content and commit","type":"main","index":0}],[{"node":"Loop Over Items","type":"main","index":0}]]},"n8n":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]},"Code":{"main":[[{"node":"If1","type":"main","index":0}]]},"GitHub":{"main":[[{"node":"If","type":"main","index":0}]]},"Globals":{"main":[[{"node":"n8n","type":"main","index":0}]]},"Loop Over Items":{"main":[[],[{"node":"GitHub","type":"main","index":0}]]},"Schedule Trigger":{"main":[[{"node":"Globals","type":"main","index":0}]]},"Create new file and commit":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]},"Update file content and commit":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":null,"pinData":{},"versionId":"c130daa5-62e9-4b1c-8e6b-e653d78346e9","triggerCount":0,"tags":[]}