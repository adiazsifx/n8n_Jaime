{"createdAt":"2025-04-22T01:25:03.421Z","updatedAt":"2025-05-27T20:48:02.000Z","id":"gI0QAnugyHC8mbEg","name":"analisys RFP V2","active":false,"isArchived":false,"nodes":[{"parameters":{"formTitle":"Analisis de RFP - RFC","formDescription":"Upload your Document","formFields":{"values":[{"fieldLabel":"Document","fieldType":"file","multipleFiles":false},{"fieldLabel":"Email","fieldType":"email","placeholder":"Escriba el mail a donde enviar el analisis","requiredField":true},{"fieldLabel":"Nombre del Cliente","placeholder":"Escriba el nombre del cliente que envio el RFP","requiredField":true}]},"options":{"appendAttribution":false}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.2,"position":[-1560,-600],"id":"32f36f1a-b432-4e47-802e-a0d712fb572c","name":"On form submission","webhookId":"5125085d-62fd-44cc-81cc-02d25e34efc3","disabled":true},{"parameters":{"rules":{"values":[{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"loose","version":2},"conditions":[{"leftValue":"={{ $binary.Document0.mimeType }}","rightValue":"application/vnd.openxmlformats-officedocument.wordprocessingml.document","operator":{"type":"string","operation":"equals"},"id":"b7f674dc-b0b2-46ef-a708-f2cd1bc8116e"}],"combinator":"and"},"renameOutput":true,"outputKey":"Word"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"loose","version":2},"conditions":[{"id":"c299e7f1-81fa-4a03-aa67-91b8ed421b02","leftValue":"={{ $binary.Document0.mimeType }}","rightValue":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","operator":{"type":"string","operation":"equals"}}],"combinator":"and"},"renameOutput":true,"outputKey":"Excel"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"loose","version":2},"conditions":[{"id":"c2cfac87-d08b-431a-b252-5148c7a944f3","leftValue":"={{ $binary.Document0.mimeType.startsWith('image/') }}","rightValue":"image/","operator":{"type":"string","operation":"startsWith"}}],"combinator":"and"},"renameOutput":true,"outputKey":"Image"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"loose","version":2},"conditions":[{"id":"5b390ef4-81dd-4521-8441-93047d436432","leftValue":"={{ $binary.Document0.mimeType }}","rightValue":"application/pdf","operator":{"type":"string","operation":"equals"}}],"combinator":"and"},"renameOutput":true,"outputKey":"pdf"}]},"looseTypeValidation":true,"options":{}},"type":"n8n-nodes-base.switch","typeVersion":3.2,"position":[-460,-140],"id":"580de1fd-6f6f-4863-9fdc-e96faa9b6498","name":"Switch"},{"parameters":{"jsCode":"function formatMarkdownToHtml(markdown) {\n  if (!markdown) return '';\n\n  // Obtener el nombre del cliente del campo específico de n8n\n  let clientName = $input.first().json['Nombre del Cliente'] || \"Cliente\";\n\n  // Si el campo de formulario no existe o está vacío, intentar extraerlo del markdown\n  if (!clientName || clientName === \"Cliente\") {\n    const clientMatch = markdown.match(/\\*\\*\\s*Solicitante:\\s*(.*?)\\s*\\*\\*/);\n    if (clientMatch && clientMatch[1]) {\n      let extractedName = clientMatch[1].split(/\\s+Este nombre/)[0];\n      extractedName = extractedName.split(/\\s+este nombre/)[0];\n      clientName = extractedName.trim();\n    }\n  }\n\n  // Formatear títulos principales\n  let html = markdown.replace(/^# (.*?)$/gm, (_, titleText, offset, fullText) => {\n    const index = fullText.slice(0, offset).match(/^# /gm)?.length || 0;\n\n    const styles = [\n      'font-size: 32px; color: #0a1f44; font-weight: 800; margin: 30px 0 12px; padding-bottom: 6px; border-bottom: 3px solid #0071ce; line-height: 1.2; font-family: Segoe UI, Roboto, sans-serif;',\n      'font-size: 28px; color: #123c69; font-weight: 700; margin: 26px 0 10px; padding-bottom: 4px; border-bottom: 2px solid #0071ce; line-height: 1.2;',\n      'font-size: 24px; color: #1a1a1a; font-weight: 600; margin: 22px 0 8px; padding-bottom: 2px; border-bottom: 1px solid #ccc; line-height: 1.2;',\n      'font-size: 22px; color: #333; font-weight: 600; margin: 18px 0 6px; line-height: 1.2;',\n    ];\n\n    const style = styles[Math.min(index, styles.length - 1)];\n    return `<h1 style=\"${style}\">${titleText}</h1>`;\n  });\n\n  // Formatear subtítulos\n  html = html.replace(/^## (.*?)$/gm, '<h2 style=\"font-size: 18px; color: #041e42; margin-top: 20px; margin-bottom: 10px; border-left: 4px solid #0071ce; padding-left: 10px;\">$1</h2>');\n\n  // Formatear negritas\n  html = html.replace(/\\*\\*(.*?)\\*\\*/g, '<strong style=\"font-weight: bold; color: #041e42;\">$1</strong>');\n\n  // Formatear listas con viñetas\n  html = html.replace(/^- (.*?)$/gm, '<li style=\"margin-bottom: 5px; font-size: 16px;\">$1</li>');\n\n  // Detectar y agrupar elementos de lista en forma segura\n  const lines = html.split('\\n');\n  let result = [];\n  let currentList = [];\n\n  for (let i = 0; i < lines.length; i++) {\n    const line = lines[i];\n    if (line.startsWith('<li')) {\n      currentList.push(line);\n    } else {\n      if (currentList.length > 0) {\n        result.push('<ul style=\"margin-left: 10px; padding-left: 20px; margin-bottom: 10px;\">');\n        result = result.concat(currentList);\n        result.push('</ul>');\n        currentList = [];\n      }\n      result.push(line);\n    }\n  }\n\n  if (currentList.length > 0) {\n    result.push('<ul style=\"margin-left: 10px; padding-left: 20px; margin-bottom: 10px;\">');\n    result = result.concat(currentList);\n    result.push('</ul>');\n  }\n\n  html = result.join('\\n');\n\n  // Convertir tablas Markdown a HTML\n  html = html.replace(/((?:^\\|.*\\|\\s*\\n?)+)/gm, match => {\n    const rows = match.trim().split('\\n');\n\n    // Separar filas en celdas y limpiar espacios\n    const parsedRows = rows.map(row => row.trim().split('|').filter(cell => cell.trim() !== ''));\n\n    const headers = parsedRows[0];\n    const isDividerRow = row => row.every(cell => /^-+$/.test(cell));\n    const bodyRows = parsedRows.slice(1).filter(row => !isDividerRow(row));\n\n    // Si la última cabecera está vacía, eliminarla\n    const cleanHeaders = headers.filter(h => h.trim() !== '');\n\n    const thead = `<thead><tr>${cleanHeaders.map(h => `<th>${h.trim()}</th>`).join('')}</tr></thead>`;\n    const tbody = `<tbody>${bodyRows.map(row => {\n      return `<tr>${row.slice(0, cleanHeaders.length).map(c => `<td>${c.trim()}</td>`).join('')}</tr>`;\n    }).join('')}</tbody>`;\n\n    return `<table class=\"markdown-table\">${thead}${tbody}</table>`;\n  });\n\n  // Reemplazar saltos de línea con <br/>\n  html = html.replace(/\\n/g, '<br/>');\n  html = html.replace(/<\\/h1><br\\/>/g, '</h1>');\n  html = html.replace(/<\\/h2><br\\/>/g, '</h2>');\n  html = html.replace(/<\\/ul><br\\/>/g, '</ul>');\n\n  // HTML Final con estilos IFX\n  const formattedHTML = `\n  <!DOCTYPE html>\n  <html lang=\"es\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <title>Ejemplo 2</title>\n    <style>\n      body {\n        font-family: 'Arial', sans-serif;\n        background-color: #f4f6f8;\n        margin: 0;\n        color: #2c3e50;\n      }\n      .container {\n        max-width: 700px;\n        margin: 40px auto;\n        background: #fff;\n        border-radius: 8px;\n        box-shadow: 0 2px 8px rgba(44,62,80,0.07);\n        padding: 0 0 30px 0;\n      }\n      .header {\n        padding: 40px 40px 20px 40px;\n        border-bottom: 1px solid #e9ecef;\n        text-align: left;\n        background: #232a34;\n        border-radius: 8px 8px 0 0;\n      }\n      .header-row {\n        display: flex;\n        align-items: center;\n        gap: 28px;\n      }\n      .header-titles {\n        display: flex;\n        flex-direction: column;\n        gap: 2px;\n      }\n      .header-titles .title,\n      .header-title-main {\n        color: #fff;\n      }\n      .header-titles .title {\n        font-size: 24px;\n        font-weight: 600;\n        margin-bottom: 2px;\n      }\n      .header-title-main {\n        font-size: 28px;\n        font-weight: 700;\n        margin-bottom: 0;\n      }\n      .logo {\n        max-width: 180px;\n        height: auto;\n        margin-bottom: 20px;\n      }\n      .markdown-table {\n        border-collapse: collapse;\n        width: 100%;\n        margin: 20px 0;\n        font-size: 14px;\n      }\n      .markdown-table th,\n      .markdown-table td {\n        border: 1px solid #ccc;\n        padding: 8px 12px;\n        text-align: left;\n      }\n      .markdown-table th {\n        background-color: #0071ce;\n        color: #fff;\n      }\n      .markdown-table tr:nth-child(even) td {\n        background-color: #f9f9f9;\n      }\n      .footer {\n        background: #232a34;\n        color: #e0e0e0;\n        padding: 32px 40px 24px 40px;\n        border-radius: 0 0 8px 8px;\n        font-size: 13px;\n        text-align: left;\n        margin-top: 32px;\n      }\n      .footer-logo {\n        max-width: 110px;\n        height: auto;\n        margin-bottom: 10px;\n      }\n      .footer-title {\n        font-weight: 700;\n        color: #fff;\n        margin-bottom: 4px;\n        font-size: 15px;\n      }\n      .footer-row {\n        display: flex;\n        gap: 32px;\n        margin-top: 12px;\n      }\n      .footer-info {\n        flex: 1;\n        min-width: 0;\n        line-height: 1.7;\n        margin-top: 0;\n        font-size: 13px;\n        color: #e0e0e0;\n      }\n    </style>\n  </head>\n  <body>\n    <div class=\"container\">\n      <div class=\"header\">\n        <div class=\"header-row\">\n          <img src=\"https://ifxnetworks.com/hubfs/IFX/logo-ifx--primary.svg\" alt=\"IFX Networks\" class=\"logo\">\n          <div class=\"header-titles\">\n            <div class=\"title\">Ejemplo 2</div>\n            <div class=\"header-title-main\">Subtítulo o nombre de proyecto</div>\n          </div>\n        </div>\n        <div style=\"font-size:15px; color:#d2d2d2; margin-bottom:10px;\">\n          Breve descripción del propósito de este documento.\n        </div>\n      </div>\n      <div class=\"markdown-content\" style=\"padding: 30px 40px;\">\n        ${html}\n      </div>\n      <div class=\"footer\">\n        <img src=\"https://ifxnetworks.com/hubfs/IFX/logo-ifx--primary.svg\" alt=\"IFX Networks\" class=\"footer-logo\">\n        <div class=\"footer-title\">IFX Networks</div>\n        <div class=\"footer-row\">\n          <div class=\"footer-info\">\n            25 años de experiencia en el mercado de las Telecomunicaciones.\n          </div>\n          <div class=\"footer-info\">\n            Diagonal 97 No. 17 – 60 piso 4<br>\n            Edificio Centro Empresarial Corporativo<br>\n            Bogotá, Colombia\n          </div>\n          <div class=\"footer-info\">\n            +57 (601) 369 3000<br>\n            CARE: +57 (601) 369 3024\n          </div>\n        </div>\n      </div>\n    </div>\n  </body>\n  </html>`;\n\n  return formattedHTML;\n}\n\n// Obtener el texto markdown de la entrada\nconst markdownText = $input.first().json.markdown;\n\n// Convertir markdown a HTML\nconst formattedHtml = formatMarkdownToHtml(markdownText);\n\n// Devolver los resultados como un array de objetos\nreturn [\n  {\n    json: {\n      markdownText: markdownText,\n      formattedHtml: formattedHtml,\n      plainText: \"Este correo contiene HTML formateado. Si no puede verlo correctamente, utilice un cliente de correo que soporte HTML.\"\n    }\n  }\n];\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2160,260],"id":"229d9c96-5e3e-4550-af89-65d8166a4883","name":"Convert to HTML"},{"parameters":{"errorMessage":"Error Processing Document"},"type":"n8n-nodes-base.stopAndError","typeVersion":1,"position":[820,-280],"id":"3a909b8c-9ab5-45a4-8f63-3031d477c1d9","name":"Error PDF"},{"parameters":{"toRecipients":"={{ $('Webhook').item.json.body.email }}","subject":"=Resumen RFP {{ $('Webhook').item.json.body.empresa }}","bodyContent":"={{ $json.formattedHtml }}","additionalFields":{"bodyContentType":"html"}},"type":"n8n-nodes-base.microsoftOutlook","typeVersion":2,"position":[2800,260],"id":"6fcca0c1-4f23-4388-87f8-e5cab3e3b859","name":"Send Mail","webhookId":"4d4b099c-c77e-49cd-924d-254b0d51e936","credentials":{"microsoftOutlookOAuth2Api":{"id":"zrNdsL9SZMvBfPt3","name":"Microsoft Outlook cbautista"}}},{"parameters":{"rules":{"values":[{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"6b32d09d-aca1-4ac2-add0-08fddb408eef","leftValue":"={{ $json.status }}","rightValue":"ERROR","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"},"renameOutput":true,"outputKey":"ERROR"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"728cff21-b861-4c35-a66f-1159958560fb","leftValue":"={{ $json.status }}","rightValue":"CANCELED","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"},"renameOutput":true,"outputKey":"CANCELED"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"leftValue":"={{ $json.status }}","rightValue":"SUCCESS","operator":{"type":"string","operation":"equals"},"id":"1ca170e5-f79b-45d0-bf06-8817aaa91020"}],"combinator":"and"},"renameOutput":true,"outputKey":"SUCCESS"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"8ed9a7f3-a77b-4541-a2c5-1ec659349c4c","leftValue":"={{ $json.status }}","rightValue":"PENDING","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"},"renameOutput":true,"outputKey":"PENDING"}]},"options":{}},"type":"n8n-nodes-base.switch","typeVersion":3.2,"position":[300,-80],"id":"a168c71e-ce91-4faf-8d78-21332d899fc3","name":"Status Process"},{"parameters":{"promptType":"define","text":"={{ $json.markdown }}","messages":{"messageValues":[{"message":"Me puedes hacer que se extraiga el nombre del solicitante o cliente encontrando la informacion en el texto y que lo llama como \"solicitante: cliente XYZ\"\n\nEste es el prompt actual\nEres un analista experto en contratación de servicios de telecomunicaciones. Recibirás el contenido completo de un documento tipo RFP (Request for Proposal).\n\n🎯 TU TAREA ES LEER Y ANALIZAR el documento COMPLETO y entregar una respuesta organizada en FORMATO MARKDOWN, bien estructurada y detallada, con secciones y subtítulos.\n💡 DEBES EXTRAER Y EXPLICAR la información más relevante posible, agrupada en las siguientes secciones:\n## 🔐 Información Legal y Contractual\nExpón con claridad las condiciones legales clave: duración del contrato, causales de terminación, condiciones de renovación, garantías requeridas, cláusulas de confidencialidad, penalizaciones y cualquier término jurídico relevante. Si hay ambigüedades o riesgos, coméntalos brevemente.\n## 💼 Aspectos Administrativos y Económicos\nDetalla fechas importantes (límite de entrega, vigencia de oferta), plazos de pago, condiciones económicas (moneda, forma de pago, intereses, anticipos), así como montos, promedios o unidades de cobro mencionadas. Añade cualquier instrucción relacionada con facturación, penalidades económicas o restricciones.\n## 📑 Requisitos Documentales\nLista y explica los documentos requeridos: referencias, certificaciones, declaraciones juradas, anexos técnicos, formularios, etc. Aclara condiciones como: cantidad, antigüedad, formato, requisitos de firma o certificación, si deben presentarse en físico o digital.\n## 🛠️ Requerimiento Técnico (Resumen Detallado)\nHaz un resumen técnico exhaustivo. Incluye tecnologías específicas (SD-WAN, plataformas, software), infraestructura mínima, disponibilidad exigida, condiciones de escalabilidad, redundancias, niveles de servicio (SLA), seguridad física y lógica, cantidad de sitios, equipos o instalaciones.\n## ✅ Índice y Tablas\n- Si se encuentran tablas, asegúrate de que todas las tablas estén bien estructuradas, con los **encabezados correctamente alineados** y **sin celdas vacías** en la cabecera.\n- **Tablas en Markdown** deben tener un formato como el siguiente:\n  ```markdown\n  | Columna 1 | Columna 2 | Columna 3 |\n  |-----------|-----------|-----------|\n  | Valor 1   | Valor 2   | Valor 3   |\n  | Valor 4   | Valor 5   | Valor 6   |\n\n🎯 Instrucciones específicas:\nPara las Tablas: Si encuentras tablas, asegúrate de que estén estructuradas con los siguientes lineamientos:\n# Usa siempre las | para separar las columnas.\n# Asegúrate de que todas las filas de datos tengan el mismo número de columnas que la fila de encabezado.\n# Si alguna celda está vacía en el texto original, reemplázala con un espacio vacío y no dejes columnas extrañas.\n# Para las Imágenes: Las imágenes deben ser referenciadas correctamente con la sintaxis Markdown estándar:\n# Asegúrate de que las imágenes estén dentro de la estructura Markdown y que los links a las imágenes sean completos (incluyendo el dominio).\n# Formato Markdown claro y consistente:\n# Utiliza encabezados #, ##, ### para los títulos y subtítulos.\n# Usa listas ordenadas y desordenadas según corresponda.\n# Si se encuentran enlaces o menciones de URL, inclúyelas en el formato Markdown adecuado.\n\n🔎 ADEMÁS, para cada sección debes:\n- Citar cifras exactas, porcentajes, valores técnicos o económicos que aparezcan  \n- Incluir aclaraciones sobre el contexto si hay ambigüedad o términos no definidos  \n- Mencionar si hay inconsistencias, ambigüedades o puntos críticos  \n- Usar listas ordenadas o viñetas cuando sea necesario para mayor claridad\n\n🚫 IMPORTANTE:  \nNO entregues respuesta en JSON  \nNO utilices etiquetas de código  \nNO incluyas texto fuera del formato Markdown estructurado\nNO dejes celdas vacías o desajustadas en las tablas, asegúrate de que el formato sea adecuado para la conversión a HTML\n📌 OBJETIVO FINAL: Producir un INFORME CLARO, COMPLETO Y ANALÍTICO en Markdown, con subtítulos, íconos y explicaciones precisas por sección.\n\n📘 FORMATO DE RESPUESTA ESPERADO EN MARKDOWN OBLIGATORIO MANTENER LA ESTRUCTURA\n## 🔐 Información Legal y Contractual\n- Extraer el nombre del solicitante del RFP, regularmente es el nombre de alguna empresa, entidad o compañia\n- El contrato tendrá una duración de 60 meses, con posibilidad de renovación automática si ninguna de las partes manifiesta lo contrario con al menos 90 días de anticipación.\n- Se exige una garantía de cumplimiento equivalente al 15% del valor anual del contrato, renovable cada año antes del aniversario del contrato.\n- El proveedor debe firmar un acuerdo de confidencialidad (NDA) previo a la ejecución del contrato.\n- Se establecen penalidades por incumplimiento que podrán alcanzar hasta el 10% del monto mensual facturado, dependiendo de la gravedad del incidente.\n## 💼 Aspectos Administrativos y Económicos\n- La propuesta debe entregarse antes del **24 de enero de 2025 a las 13:00 (UTC-6)**.\n- La oferta deberá tener una vigencia mínima de **180 días** a partir de la fecha de apertura de propuestas.\n- Los pagos se realizarán en **USD**, con un plazo máximo de **60 días calendario** tras la aceptación del servicio.\n- No se permiten pagos anticipados, intereses moratorios ni ajustes por inflación.\n- Costo estimado mensual por sitio: **$2,500 USD** promedio.\n- No se contempla la entrega parcial del servicio; el contrato será adjudicado en una sola partida.\n## 📑 Requisitos Documentales\n- Se deben presentar al menos **3 cartas de referencia** de clientes actuales o anteriores, emitidas en los últimos **2 años**.\n- Certificaciones obligatorias: **ISO 27001**, **PCI-DSS**, y **Uptime Institute TIER III (Design y Facility)**.\n- Documentos requeridos: memoria técnica, plan de trabajo detallado, declaración jurada firmada por el representante legal.\n- Todos los documentos deben entregarse en formato digital firmado electrónicamente, además de una copia impresa legalizada.\n- Se solicita presentar un organigrama técnico del equipo propuesto, con CVs del personal clave.\n## 🛠️ Requerimiento Técnico (Resumen Detallado)\n- La solución deberá operar sobre una plataforma **SD-WAN basada en VMware VeloCloud**, con enlaces de comunicación redundantes en cada sitio.\n- Se exige una **disponibilidad mínima de 99.982%**, respaldada por monitoreo y soporte **24x7x365**.\n- Capacidad inicial de instalación: **20 racks**, con posibilidad de expansión a **30 racks** dentro de un periodo de **3 años**.\n- Redundancia requerida: **N+1** en energía, climatización y enlaces.\n- Seguridad física: acceso biométrico, cámaras CCTV, jaulas Faraday y zonas de cuarentena.\n- Todos los sitios deberán contar con doble acometida de fibra óptica y equipos con soporte para IPv6.\n## ✅  Observaciones y Recomendaciones\n- Se recomienda verificar que la vigencia de las certificaciones solicitadas coincida con la duración total del contrato.\n- Ideal contar con experiencia comprobable en implementación de soluciones SD-WAN en al menos **10 sitios simultáneamente**.\n- Se sugiere solicitar aclaración sobre el término “expansión futura” para establecer límites de alcance o costos adicionales.\n- Sería útil definir explícitamente los criterios de evaluación técnica y económica dentro del documento para mayor transparencia.\n## ⚠️ Riesgos Identificados\n- Ambigüedad en la cláusula de renovación automática: no se especifican condiciones de renegociación tarifaria.\n- Posible sobrecosto si no se delimitan las condiciones bajo las cuales se puede activar la expansión a 30 racks.\n- No se detalla el mecanismo de validación de la disponibilidad mínima exigida (99.982%), lo que podría generar disputas contractuales.\n- Falta claridad sobre si el incumplimiento técnico parcial implica rescisión total del contrato o aplicación de penalidades proporcionales."}]}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.6,"position":[1140,40],"id":"3baa4eea-69c4-4abc-a758-5aed8ca6a122","name":"Analizando Documento","disabled":true},{"parameters":{"operation":"completion","completionTitle":"Error en el Analisis","completionMessage":"=el Analisis del documento ** {{ $('On form submission').item.json.Document.filename }} **\nPresento un error en su procesamiento, por favor intente de nuevo el proceso.","limitWaitTime":true,"resumeUnit":"minutes","options":{}},"type":"n8n-nodes-base.form","typeVersion":1,"position":[600,-200],"id":"e5eb6787-411e-45fc-aafe-4e4f0fdd27bf","name":"Form Error","webhookId":"672dd2c6-3c4d-472e-a14e-ea16a65e965b"},{"parameters":{"method":"POST","url":"https://api.cloud.llamaindex.ai/api/parsing/upload","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendBody":true,"contentType":"multipart-form-data","bodyParameters":{"parameters":[{"parameterType":"formBinaryData","name":"file","inputDataFieldName":"={{$input.item.binary.Document0}}"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-240,-120],"id":"31778906-6f22-4057-bbac-80a245a7b0a3","name":"Parser Documento","credentials":{"httpHeaderAuth":{"id":"T8quSeWOL90AppRG","name":"Header Auth account 2"}}},{"parameters":{"url":"=https://api.cloud.llamaindex.ai/api/v1/parsing/job/{{ $json.id }}/result/markdown","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","options":{"redirect":{"redirect":{}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[600,-40],"id":"a1c77ac5-4553-4b1a-89b3-fe96f9776124","name":"Success Document","credentials":{"httpHeaderAuth":{"id":"T8quSeWOL90AppRG","name":"Header Auth account 2"}}},{"parameters":{"amount":3},"type":"n8n-nodes-base.wait","typeVersion":1.1,"position":[240,420],"id":"2074b904-e00d-486d-ba24-b48d5107c20b","name":"Wait Process Document","webhookId":"f2ebea6a-82b1-44b0-88ea-6f80826d99f9"},{"parameters":{"url":"=https://api.cloud.llamaindex.ai/api/v1/parsing/job/{{ $json.id }}","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendBody":true,"contentType":"multipart-form-data","bodyParameters":{"parameters":[{}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[40,-60],"id":"6db58a68-5034-4972-af1f-3895ce9276ab","name":"GET Parser Document","credentials":{"httpHeaderAuth":{"id":"T8quSeWOL90AppRG","name":"Header Auth account 2"}}},{"parameters":{"operation":"completion","completionTitle":"Analisis Finalizado","completionMessage":"=El Analisis del documento\n** {{ $('On form submission').item.json.Document.filename }} **\na finalizado y el resultado fue enviado a\n{{ $('On form submission').item.json.Email }}","limitWaitTime":true,"resumeUnit":"minutes","options":{}},"type":"n8n-nodes-base.form","typeVersion":1,"position":[3140,460],"id":"d478e459-90c6-437d-8720-8154568fbce6","name":"Finish Success","webhookId":"672dd2c6-3c4d-472e-a14e-ea16a65e965b","disabled":true},{"parameters":{"model":{"__rl":true,"value":"llama-4-Scout","mode":"list","cachedResultName":"llama-4-Scout"},"options":{"temperature":0.3}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[1160,280],"id":"f7a17dfd-ae0e-460d-9e22-5e4630437382","name":"GPT-4.1-Nano","credentials":{"openAiApi":{"id":"S46eGA7oXnm2SZCZ","name":"OpenAi account 2"}}},{"parameters":{"httpMethod":"POST","path":"parse-rfp","responseMode":"=onReceived","options":{"binaryPropertyName":"Document"}},"type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-1560,-320],"id":"3420b700-9ab9-42ff-96df-34ae99a12d21","name":"Webhook","webhookId":"90fd164e-74ce-4bc0-a8e2-6a3f3d3f1ec9"},{"parameters":{"operation":"insert","collection":"analyses","fields":"={\n  \"compania\": \"{{ $('Webhook').item.json.body.empresa }}\",\n  \"nombreArchivo\": \"{{ $('Webhook').item.json.body.empresa }}_{{ new Date().toISOString() }}\", \n  \"archivoMarkdown\": \"{{ $input.item.json.markdown }}\",\n  \"fecha\": \"{{ new Date().toISOString() }}\",\n  \"sessionId\":{{ $('Inicio de sesion').item.json.session_id }}\n  \"tipoDocumento\": \"RFP\",\n  \"version\": \"1.0\"\n}\n","options":{}},"type":"n8n-nodes-base.mongoDb","typeVersion":1.1,"position":[2140,840],"id":"5f7d9849-9919-40a2-9fa7-689733af819c","name":"MongoDB","credentials":{"mongoDb":{"id":"anxhbPr54h2LJLDB","name":"MongoDB Devcloud"}},"disabled":true},{"parameters":{"collection":"analyses","options":{},"query":"{ \"_id\":\"680aba2baf724207a4adc9bc\" }"},"type":"n8n-nodes-base.mongoDb","typeVersion":1.1,"position":[2340,840],"id":"a7cbe974-39d4-46df-80c3-99fe703461bb","name":"MongoDB1","credentials":{"mongoDb":{"id":"anxhbPr54h2LJLDB","name":"MongoDB Devcloud"}},"disabled":true},{"parameters":{"assignments":{"assignments":[{"id":"115f2cf6-9653-46be-b973-53c9c8317d16","name":"session_id","value":"={{ $json.session_id }}","type":"string"},{"id":"6ab72819-a7ba-4617-bfbf-604c2db3a280","name":"step","value":"\"inicio-analisis\"","type":"string"},{"id":"d43b5655-1869-4630-8186-8a47c9d2f558","name":"timestamp","value":"","type":"string"},{"id":"e6e7c994-08b0-4019-8f93-cab2e6d0277f","name":"timestamp","value":"={{ $now.toString() }}","type":"string"},{"id":"687eff2a-f4d6-4b99-83b2-39d5519d8e0b","name":"estado","value":"\"Recibido y validado\"","type":"string"},{"id":"e3551a38-45fb-4b93-acab-0ff4a155fb11","name":"nombre_pdf","value":"= {{ $binary.Document0.fileName }}_{{ $now.toString() }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-940,-180],"id":"0a22ca75-1579-4c38-b39b-f2b5135b03a4","name":"Edit Fields"},{"parameters":{"operation":"insert","collection":"analyses","fields":"={\n  \"compania\": \"{{ $('Webhook').item.json.body.empresa }}\",\n  \"nombreArchivo\": \"{{ $('Webhook').item.json.body.empresa }}_{{ new Date().toISOString() }}\", \n  \"archivoMarkdown\": \"{{ $input.item.json.markdown }}\",\n  \"fecha\": \"{{ new Date().toISOString() }}\",\n  \"tipoDocumento\": \"RFP\",\n  \"version\": \"1.0\"\n}\n","options":{}},"type":"n8n-nodes-base.mongoDb","typeVersion":1.1,"position":[-720,-180],"id":"f4c4c09d-e45c-4197-82a4-c07209c4e057","name":"MongoDB2","credentials":{"mongoDb":{"id":"anxhbPr54h2LJLDB","name":"MongoDB Devcloud"}},"disabled":true},{"parameters":{"assignments":{"assignments":[{"id":"115f2cf6-9653-46be-b973-53c9c8317d16","name":"session_id","value":"={{ $('Inicio de sesion').item.json.session_id }}","type":"string"},{"id":"6ab72819-a7ba-4617-bfbf-604c2db3a280","name":"step","value":"análisis IA","type":"string"},{"id":"d43b5655-1869-4630-8186-8a47c9d2f558","name":"timestamp","value":"","type":"string"},{"id":"e6e7c994-08b0-4019-8f93-cab2e6d0277f","name":"timestamp","value":"={{ $now.toString() }}","type":"string"},{"id":"687eff2a-f4d6-4b99-83b2-39d5519d8e0b","name":"estado","value":"\"enviado a analizar a IA \"","type":"string"},{"id":"e3551a38-45fb-4b93-acab-0ff4a155fb11","name":"nombre_pdf","value":"={{ $('Inicio de sesion').item.json.session_id }}_{{ $now.toString() }}","type":"string"},{"id":"6b06d78a-1e8e-4e83-94f4-367760da6f4f","name":"resumen","value":"={{ $json.markdown }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[820,100],"id":"8b16f4c8-9444-4cc6-b3bf-5afb6803278b","name":"Edit Fields1"},{"parameters":{"operation":"insert","collection":"analyses","fields":"={\n  \"compania\": \"{{ $('Webhook').item.json.body.empresa }}\",\n  \"nombreArchivo\": \"{{ $('Webhook').item.json.body.empresa }}_{{ new Date().toISOString() }}\", \n  \"archivoMarkdown\": \"{{ $input.item.json.markdown }}\",\n  \"fecha\": \"{{ new Date().toISOString() }}\",\n  \"tipoDocumento\": \"RFP\",\n  \"version\": \"1.0\"\n}\n","options":{}},"type":"n8n-nodes-base.mongoDb","typeVersion":1.1,"position":[820,360],"id":"d995269a-2700-482c-bac0-a98f843942d8","name":"MongoDB3","credentials":{"mongoDb":{"id":"anxhbPr54h2LJLDB","name":"MongoDB Devcloud"}},"disabled":true},{"parameters":{"assignments":{"assignments":[{"id":"115f2cf6-9653-46be-b973-53c9c8317d16","name":"session_id","value":"={{ $json.session_id }}","type":"string"},{"id":"6ab72819-a7ba-4617-bfbf-604c2db3a280","name":"step","value":"\"error\"","type":"string"},{"id":"d43b5655-1869-4630-8186-8a47c9d2f558","name":"timestamp","value":"","type":"string"},{"id":"e6e7c994-08b0-4019-8f93-cab2e6d0277f","name":"timestamp","value":"={{ $now.toString() }}","type":"string"},{"id":"687eff2a-f4d6-4b99-83b2-39d5519d8e0b","name":"estado","value":"el Analisis del documento ** {{ $('On form submission').item.json.Document.filename }} ** Presento un error en su procesamiento, por favor intente de nuevo el proceso.","type":"string"},{"id":"e3551a38-45fb-4b93-acab-0ff4a155fb11","name":"nombre_pdf","value":"={{ $('Inicio de sesion').item.json.session_id }}_{{ $now.toString() }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[840,-500],"id":"ddc5f063-6b97-4bfa-837e-3080e018678c","name":"Edit Fields2"},{"parameters":{"operation":"insert","collection":"analyses","fields":"={\n  \"compania\": \"{{ $('Webhook').item.json.body.empresa }}\",\n  \"nombreArchivo\": \"{{ $('Webhook').item.json.body.empresa }}_{{ new Date().toISOString() }}\", \n  \"archivoMarkdown\": \"{{ $input.item.json.markdown }}\",\n  \"fecha\": \"{{ new Date().toISOString() }}\",\n  \"tipoDocumento\": \"RFP\",\n  \"version\": \"1.0\"\n}\n","options":{}},"type":"n8n-nodes-base.mongoDb","typeVersion":1.1,"position":[1000,-500],"id":"2201f7cf-5a80-4fe6-b0f0-460bcc5481b8","name":"MongoDB4","credentials":{"mongoDb":{"id":"anxhbPr54h2LJLDB","name":"MongoDB Devcloud"}},"disabled":true},{"parameters":{"assignments":{"assignments":[{"id":"115f2cf6-9653-46be-b973-53c9c8317d16","name":"session_id","value":"={{ $('Inicio de sesion').item.json.session_id }}","type":"string"},{"id":"6ab72819-a7ba-4617-bfbf-604c2db3a280","name":"step","value":"\"envio de email\"","type":"string"},{"id":"d43b5655-1869-4630-8186-8a47c9d2f558","name":"timestamp","value":"","type":"string"},{"id":"e6e7c994-08b0-4019-8f93-cab2e6d0277f","name":"timestamp","value":"={{ $now.toString() }}","type":"string"},{"id":"687eff2a-f4d6-4b99-83b2-39d5519d8e0b","name":"estado","value":"enviado por email ","type":"string"},{"id":"e3551a38-45fb-4b93-acab-0ff4a155fb11","name":"nombre_pdf","value":"={{ $('Inicio de sesion').item.json.session_id }}_{{ $now.toString() }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[3140,0],"id":"b728b3e0-ee4e-48f3-a036-78596c1c3cac","name":"Edit Fields3","disabled":true},{"parameters":{"operation":"insert","collection":"analyses","fields":"={\n  \"compania\": \"{{ $('Webhook').item.json.body.empresa }}\",\n  \"nombreArchivo\": \"{{ $('Webhook').item.json.body.empresa }}_{{ new Date().toISOString() }}\", \n  \"archivoMarkdown\": \"{{ $input.item.json.markdown }}\",\n  \"fecha\": \"{{ new Date().toISOString() }}\",\n  \"tipoDocumento\": \"RFP\",\n  \"version\": \"1.0\"\n}\n","options":{}},"type":"n8n-nodes-base.mongoDb","typeVersion":1.1,"position":[3420,0],"id":"c0c067ce-0bee-4b0f-916c-a318a98802a1","name":"MongoDB5","credentials":{"mongoDb":{"id":"anxhbPr54h2LJLDB","name":"MongoDB Devcloud"}},"disabled":true},{"parameters":{"jsCode":"const intentosMaximos = 10;\nconst intentoActual = $json.intento || 1;\n\nif (intentoActual > intentosMaximos) {\n  throw new Error('Se alcanzó el límite de reintentos');\n}\n\nreturn items.map(item => ({\n  json: {\n    ...item.json,\n    intento: intentoActual + 1\n  }\n}));\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[240,220],"id":"6056ce5d-5a6d-4bbc-9e72-72a48bb4f00d","name":"contador de reintentos"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"f336ff44-ae3a-45a7-907b-4ef304a741cb","leftValue":"={{ $json.formattedHtml }}","rightValue":"","operator":{"type":"string","operation":"notEmpty","singleValue":true}},{"id":"3212c3fe-3cdb-4d04-a400-51b307372b11","leftValue":"={{ $json.formattedHtml }}","rightValue":"error","operator":{"type":"string","operation":"notContains"}},{"id":"0336095c-5b73-445e-9cf4-351848a9b4c8","leftValue":"={{ $json.formattedHtml }}","rightValue":"undefined","operator":{"type":"string","operation":"notContains"}},{"id":"fe665b60-9bde-4cda-b9da-0a0d4f3cf0a7","leftValue":"={{ $json.formattedHtml }}","rightValue":"null","operator":{"type":"string","operation":"notContains"}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[2380,480],"id":"c70c26e3-080a-4bad-a876-b7f26d66f0a4","name":"If1","disabled":true},{"parameters":{"errorMessage":"Error Processing Document"},"type":"n8n-nodes-base.stopAndError","typeVersion":1,"position":[2560,640],"id":"ccf15a59-8b10-4a52-b701-86e8c10b299c","name":"Error PDF2","disabled":true},{"parameters":{"jsCode":"// Genera un session_id tipo: \"20240519-168957-a8f23\"\nconst timestamp = new Date().toISOString().replace(/[-:.TZ]/g, '').slice(0, 14);\nconst random = Math.floor(Math.random() * 1000000).toString().padStart(6, '0');\nconst sessionId = `session-${timestamp}-${random}`;\n\nreturn items.map(item => ({\n  json: {\n    ...item.json,\n    session_id: sessionId\n  },\n  binary: item.binary\n}));\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-1160,-320],"id":"1c875467-3107-408a-bc0c-21ab148e5093","name":"Inicio de sesion"},{"parameters":{"jsCode":"const resumen = $json.resumen || '';\nconst escapeHtml = (unsafe) =>\n  unsafe\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#039;');\n\nreturn [\n  {\n    json: {\n      ...$json,\n      resumen_html: `<div>${escapeHtml(resumen)}</div>`\n    }\n  }\n];\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2460,260],"id":"38cb627f-9cb6-4894-9827-7a4f0fd7a5fa","name":"Code"},{"parameters":{"jsCode":"// Iteramos sobre los archivos recibidos\nconst files = $input.all();\n\nconst maxFileSize = 20 * 1024 * 1024; // 20MB en bytes\nconst maxFiles = 6;  // Número máximo de archivos por sesión\n\n// Verificamos el número de archivos\nif (files.length > maxFiles) {\n  throw new Error(`Se permiten un máximo de ${maxFiles} archivos por sesión.`);\n}\n\n// Verificamos el tamaño de cada archivo\nfor (let i = 0; i < files.length; i++) {\n  const file = files[i];\n  \n  if (file.binary && file.binary.data) {\n    const fileSize = Buffer.byteLength(file.binary.data);\n    \n    if (fileSize > maxFileSize) {\n      throw new Error(`El archivo ${file.json.fileName} excede el tamaño máximo de 20MB.`);\n    }\n  }\n}\n\nreturn items; // Continuamos con el flujo si todo está bien\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-1360,-320],"id":"5083ce14-890b-4f39-8494-902f2fe7fdfc","name":"Evaluacion # files , peso de archivos"},{"parameters":{"batchSize":2,"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[-720,-360],"id":"542eb21b-e7f7-4a23-8616-84fa6e4513d3","name":"Loop Over Items","alwaysOutputData":false},{"parameters":{"operation":"insert","collection":"prueba_rfp","fields":"={\n  \"compania\": \"{{ $('Webhook').item.json.body.empresa }}\",\n  \"nombreArchivo\": \"{{ $('Webhook').item.json.body.empresa }}_{{ new Date().toISOString() }}\", \n  \"archivoMarkdown\": \"{{ $input.item.json.markdown }}\",\n  \"fecha\": \"{{ new Date().toISOString() }}\",\n  \"tipoDocumento\": \"RFP\",\n  \"version\": \"1.0\"\n}\n","options":{}},"type":"n8n-nodes-base.mongoDb","typeVersion":1.1,"position":[940,-40],"id":"fd830759-6142-4ccd-aea0-843b2e69d99a","name":"Save_Summary_Data","credentials":{"mongoDb":{"id":"anxhbPr54h2LJLDB","name":"MongoDB Devcloud"}}},{"parameters":{"assignments":{"assignments":[{"id":"115f2cf6-9653-46be-b973-53c9c8317d16","name":"session_id","value":"=","type":"string"},{"id":"6ab72819-a7ba-4617-bfbf-604c2db3a280","name":"step","value":"análisis IA","type":"string"},{"id":"d43b5655-1869-4630-8186-8a47c9d2f558","name":"timestamp","value":"","type":"string"},{"id":"e6e7c994-08b0-4019-8f93-cab2e6d0277f","name":"timestamp","value":"={{ $now.toString() }}","type":"string"},{"id":"687eff2a-f4d6-4b99-83b2-39d5519d8e0b","name":"estado","value":"\"enviado a analizar a IA \"","type":"string"},{"id":"e3551a38-45fb-4b93-acab-0ff4a155fb11","name":"nombre_pdf","value":"={{ $('Inicio de sesion').item.json.session_id }}_{{ $now.toString() }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-460,-380],"id":"bf8fb75f-86ce-467b-8db9-abe23a11692f","name":"Edit Fields4"},{"parameters":{"mode":"insert","qdrantCollection":{"__rl":true,"mode":"list","value":""},"options":{}},"type":"@n8n/n8n-nodes-langchain.vectorStoreQdrant","typeVersion":1.1,"position":[1160,-220],"id":"c7a6becc-f459-48f1-9b1c-8fdaf4039fed","name":"Qdrant Vector Store","credentials":{"qdrantApi":{"id":"RHA3vcrOm5VwmYlq","name":"QdrantApi account"}},"disabled":true},{"parameters":{"jsCode":"// Obtener los documentos binarios del input\nconst binaryDocs = $binary;\n\n// Separar los documentos binarios en items individuales\nconst items = [];\nObject.keys(binaryDocs).forEach((key, index) => {\n    const document = binaryDocs[key];  // Obtener el archivo binario\n\n    // Crear un nuevo item para cada documento\n    items.push({\n        json: {\n            session_id: $input.first().json.session_id, // Asignar el mismo session_id\n            document_name: document.fileName, // Agregar el nombre del archivo\n            mimeType: document.mimeType, // Tipo MIME del archivo\n        },\n        binary: {\n            // Mantener la referencia al archivo binario, sin perder el \"Document0\" o \"Document1\"\n            [key]: document // Esta es la clave binaria que se mantiene (Document0, Document1, etc.)\n        }\n    });\n});\n\n// Devolver los nuevos items para ser procesados en el Loop over Items\nreturn items;\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-940,-360],"id":"19debab6-ea5e-49ea-9c60-b66a28f24726","name":"Separar Documentos"}],"connections":{"On form submission":{"main":[[]]},"Switch":{"main":[[{"node":"Parser Documento","type":"main","index":0}],[{"node":"Parser Documento","type":"main","index":0}],[{"node":"Parser Documento","type":"main","index":0}],[{"node":"Parser Documento","type":"main","index":0}]]},"Convert to HTML":{"main":[[{"node":"If1","type":"main","index":0},{"node":"Code","type":"main","index":0}]]},"Send Mail":{"main":[[{"node":"Finish Success","type":"main","index":0},{"node":"Edit Fields3","type":"main","index":0}]]},"Status Process":{"main":[[{"node":"Form Error","type":"main","index":0}],[{"node":"Form Error","type":"main","index":0}],[{"node":"Success Document","type":"main","index":0}],[{"node":"contador de reintentos","type":"main","index":0}]]},"Analizando Documento":{"main":[[{"node":"MongoDB","type":"main","index":0},{"node":"Convert to HTML","type":"main","index":0}]]},"Form Error":{"main":[[{"node":"Error PDF","type":"main","index":0},{"node":"Edit Fields2","type":"main","index":0}]]},"Parser Documento":{"main":[[{"node":"GET Parser Document","type":"main","index":0}]]},"Success Document":{"main":[[{"node":"Edit Fields1","type":"main","index":0},{"node":"Save_Summary_Data","type":"main","index":0}]]},"Wait Process Document":{"main":[[{"node":"GET Parser Document","type":"main","index":0}]]},"GET Parser Document":{"main":[[{"node":"Status Process","type":"main","index":0}]]},"GPT-4.1-Nano":{"ai_languageModel":[[{"node":"Analizando Documento","type":"ai_languageModel","index":0}]]},"Webhook":{"main":[[{"node":"Evaluacion # files , peso de archivos","type":"main","index":0}]]},"MongoDB":{"main":[[{"node":"MongoDB1","type":"main","index":0}]]},"Edit Fields":{"main":[[{"node":"MongoDB2","type":"main","index":0}]]},"Edit Fields1":{"main":[[{"node":"MongoDB3","type":"main","index":0}]]},"Edit Fields2":{"main":[[{"node":"MongoDB4","type":"main","index":0}]]},"Edit Fields3":{"main":[[{"node":"MongoDB5","type":"main","index":0}]]},"contador de reintentos":{"main":[[{"node":"Wait Process Document","type":"main","index":0}]]},"If1":{"main":[[],[{"node":"Error PDF2","type":"main","index":0}]]},"Inicio de sesion":{"main":[[{"node":"Edit Fields","type":"main","index":0},{"node":"Separar Documentos","type":"main","index":0}]]},"Code":{"main":[[{"node":"Send Mail","type":"main","index":0}]]},"Evaluacion # files , peso de archivos":{"main":[[{"node":"Inicio de sesion","type":"main","index":0}]]},"Loop Over Items":{"main":[[{"node":"Edit Fields4","type":"main","index":0}],[{"node":"Switch","type":"main","index":0}]]},"Save_Summary_Data":{"main":[[]]},"Separar Documentos":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]}},"settings":{"executionOrder":"v1","callerPolicy":"workflowsFromSameOwner","errorWorkflow":"VDWTPl3xTKW7fDqy"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"86ad74b9-ae60-406c-9e26-810d9bc0d179","triggerCount":0,"tags":[]}